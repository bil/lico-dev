#Simple demo to test that the udp connection is working and correctly
#tracks multiple data packets per tick

signals:
  udp_data:
    shape: (6, 1472)
    dtype: uint8
    log: False

  udp_data_len:
    shape: 6
    dtype: uint8
    log: False

modules:
  #source (non real time)
  udp_source:          # define the source
    language: python        # language is currently a required parameter, will later be optional
    parser: True
    constructor: True
    destructor: True
    in:
      name: udp_in      # needs a name, will be removed later
      args:
        type: udp      # the type of souce this is
        port: 51002         # port number to read from (bind to)
        interface: localhost  # interface name
      schema:               # define the structure of the data generated from the source
        data:
          dtype: uint8      # data type quantization
          size: 1472        # number of units of dtype to read per packet
        packets_per_tick: 6 # max number of packets to accept per tick (this is not relevant for parallel ports, will be removed for non-appropriate sources later)
      realTime: False
    out:
      - udp_data

  # empty module 
  udp_output:          # define the module
    language: python   # language the module is written in
    constructor: True   # needs a constructor 
    out:                # input signals / output signals *(was originally in:)
      - udp_data
      - udp_data_len


