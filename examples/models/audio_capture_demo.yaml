# Output a sine wave over line out

config:
  tick_size: 10000
  # num_ticks: 1000
  init_buffer_ticks: 100

signals:
  audio_signal_source:
    shape: (960, )
    dtype: float32
    history: 10000
  
  audio_signal_sink:
    shape: (960, )
    dtype: float32
    history: 100

modules:
  # process_audio:
  #   language: python
  #   constructor: true
  #   numba: false
  #   in:
  #     - audio_in
  #     - audio_out

  audio_in:
    language: python
    real_time: True
    in:  
      name: audio_source
      args:
        type: line
      schema:
        packets_per_tick: 2
        data:
          dtype: float32
          size: 960
    out:
      - audio_signal_source

  audio_process:
    constructor: True
    language: python
    in:
      - audio_signal_source
    out:
      - audio_signal_sink

  audio_out:
    language: python
    in:
      - audio_signal_sink
    out:  
      name: audio_sink
      args:
        type: line
      schema:
        data:
          dtype: float32
          size: 960
